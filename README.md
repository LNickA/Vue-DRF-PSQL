# Vue-DRF-PSQL
Добрый день, начнем по порядку.

Стек:
БД:PosgreSQL
Бэк: DRF
Фронт: Vue3

Исходное задание:
1.	Просматривать информацию о контрагентах  - выполнено, доступно по URL '/counterparty'
2.	Просматривать сделки каждого контрагента - выполнено, доступно по клику на контрагента по URL '/counterparty'
3.	Добавлять новых контрагентов - выполнено, доступно по клику на кнопку "Добавить контрагента" в панели управления по URL '/counterparty'
4.	Добавлять новые пункты поставки - вот при написании инструкции 05.11 обнаружил что этот пункт не выполнил из фронта(из админ панели django все добавляется, само собой). Страницы с пунктами доставки и кнопки для добавления в фигме нет. В течении часа можно исправить. Продублирую страницу контрагентов, добавлю новый путь в роутер, в get и post запросах измененю URL для обращения, в DRF добавлю URL и привяжу уже существующую модель с пунктами доставки. profit!
5.	Добавлять новые сделки - Выполнено, доступно по клику на кнопку "Добавить сделку" в панели управления по URL '/deals'
6.	Просматривать и скачивать сводный отчет по заданной форме (Форма отчета приведена ниже) - значек xls на панели, дает скачивать сделки на странице сделок, и отчеты на странице отчетов. Несколько слов об отчете в заключении.


Требования:
1.	Данные должны храниться в базе данных PostgreSQL; - выполнено
2.	В БД должны быть реализованы соответствующие таблицы (справочники) контрагентов, пунктов сдачи и т.д.; - выполнено
3.	Для справочников в БД должны быть реализованы ограничения на добавление повторяющихся записей; - выполнено
4.	Back-end должен быть реализован на Python (Django REST Framework или FAST API). - выполнено
5.	Все формы представления и отчеты должны быть реализованы через модели данных и передаваться на Front-end посредством API. - выполнено
6.	Страницы Front-end должны быть сверстаны на основе шаблона в Figma (https://www.figma.com/file/yZn7VIAXgOJ2FBgi9OgeSt/%D0%A2%D0%B5%D1%81%D1%82%D0%BE%D0%B2%D0%BE%D0%B5-%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5?node-id=0%3A1) с использованием HTML5, CSS3. - выполнено
7.	Front-end должен быть реализован на Vue 3 (+ JS/TS, при необходимости) и его экосистемы (Vue-Router, Pinia/Vuex и т.д.). - выполнено
8.	Исходный код и база данных должны быть размещены в репозитории на GitHub. - выполнено
9.	Дополнительно (будет считаться плюсом, но не является обязательным):
•	Расположить компоненты системы в контейнерах Docker; - сделаю 07.11, файлы докера дополню на гит.
•	Реализовать простой dashboard (например, графическое отображение реализованных объемов в разрезе контрагентов); - не успел, ничего сложного там нет, но срок дачи был в пятницу=(
•	Опубликовать проект на любой бесплатной PaaS-платформе или web-хостинге (например, heroku); - Подниму где не-будь, с бесплатными не работал, присмотрю платформу, 07.11 сделаю после докера
10.	Написать инструкцию для запуска приложения. - Инструкция тут ниже.

Инструкция: (Подразумевается что на машине установлены node.js, python3, postgresql - если нужно максимально детально, укажите в обратной связи, распишу.)
Клонирмуем репозиторий (https://github.com/LNickA/Vue-DRF-PSQL.git) - ветка front
БД:
Развернуть сервер PosgreSQl по адресу 127.0.0.1:5432
В Командной строке:
cd Vue-DRF-PSQL/
"<путь к файлу>\bin\psql" -U postgres -f backup.sql  //файл лежит в корне папки Vue-DRF-PSQL

Бэк:
В Командной строке папки репозитория:
cd backend/
python –m venv env
env/Scripts/activate
cd restapi/
python -m pip install --upgrade pip
pip install -r requirements.txt
python manage.py makemigrations
python manage.py migrate
python manage.py runserver

Фронт:
cd front/
npm install -g vue-cli
npm install
npm run serve - для запуска дев сборки

Мое заключение по выполнению задания:
Не совсем ясны несколько моментов:
1. В фигме присутсвует некоторый функционал, не описанный в ТЗ - Инпуты поиска и сортировки данных, кнопки 'редактировать' и 'удалить'.
    Данный функционал мной не был реализован, т.к. не стояла такая задача в ТЗ, не указаны поля которые должны редактировать/удалятся, не указаны поля по которым должен происходить поиск/сортировка. Я посчитал что лучше не делать компонент вообще, чем делать его пустым, нерабочим, т.к. это произведет впечатление что "что-то сломалось". При необходимости в течении 6-7 часов можно доработать данные компаненты, учитывая что интегрировать их можно за 7 минут, добавив в компонент панели необходимые слоты.
2. Формирование отчета.
    Все очень хорошо описано в части конвертации обьемов и стоимости из одних единиц в другие.
    Просматривая файлы задания я не уловил корреляции рейтинга (BBB,BB-) у контрагентов с данными их сделок. 
    Так же не указаны диапазоны рейтинга и привязка к виду данных(объемы, стоимость или их соотношение).
    То есть я не понял, по какому полю/соотношению полей необходимо присваивать рейтинг, так же при какой цифре, например объема рейтинг будет ААА, а при какой FF-.
    По этому я сделал заполнение рейтинга опираясь на поле Цена (Чем выше цена за единицу обьема, тем лучше по идее, больше профита, но это субъективное мнение)
    Готов сделать нормальный отчет если укажете привязку к типу данных/зависимостям.
    Так же в ТЗ не указано, должен ли этот рейтинг присваиватся контрагентам динамически на основании суммы сделок/ единичной сделки.
    В общем, мне не нравится, но я задал рейтинг указаный в задании контрагентам ручками, а рейтинг в отчете присваивается хардкодом.
    Исправить все это дело, установить присвивание данных среди моделей не проблема, нужно ольше информации.

Коротко о проделанной работе:
Задание было получено в понедельник 31.10, на выполнение затрачено часов 16-18, преимущественно по вечерам/ночам.
Если честно, за 2 обычных полных рабочих дня было бы сделано лучше.
VueX не использовал, т.к. приложение по ТЗ не имеет глубой вложенности компонентов (3), плодить лишние сущности нет необходимости, проще пробрасывать данные линейно пропсами.
Но если нужно удет доработать функционал Редактирования/ Удаления/ Поиска и сортировки/Присваивание рейтинга контрагентам, то тогда некоторый смысл использовать VueX будет.
Так же при доработке такого функционала компоненты вероятней всего выростут в объеме, я бы использовал CompositionAPI, для упрощения читабельности.
Я не успел провести адекватный рефакторинг, вынести миксины, так что тут у некоторых компонентов есть повторение кода=(
Спасибо за предоставленную возможность попрактиковатся, за обычную рабочую неделю (40 часов) можно было бы сделать очень хорошее приложение и плотно потестировать(это я тоже не сильно успел).
Если будет обратная связь с разбором ошибок, будет просто здорово, т.к. я обучаюсь во всему этому сам, у меня в доступе даже просто коллеги с таким же стеком нет, не говоря про Middle/Senior, вопросы задавать не кому.

В понедельник 07.11 закину все это в Docker, найду бесплатную(или нет, heroku вроде бы все) платформу и закину туда проект. Сcылку закомичу тут -> ().
Если что-то багует, прощу прощения, возможно это из-за Git'а, у меня с ним маленький опыт общения, могу дать доступы на сервер, оттуда можно будет контейнером стянуть.
